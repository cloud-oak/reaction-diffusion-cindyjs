<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
    <script type="text/javascript" src="Conway's%20Game%20of%20Life%20in%20CindyGL_files/Cindy.js"></script>
    <script type="text/javascript" src="Conway's%20Game%20of%20Life%20in%20CindyGL_files/CindyGL.js"></script>
    <title>Conway's Game of Life in CindyGL</title>
  </head>

  <body>
    <div id="CSCanvas" class="CindyJS-widget" style="position: relative; width: 512px; height: 512px;"><canvas style="position: absolute; border: medium none; top: 0px; left: 0px; padding: 0px; margin: 0px; height: 100%; width: 100%;" width="512" height="512"></canvas><div style="position: absolute; transition: 0s; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; transition: 0s; left: 0; top: 0; width: 100000px; height: 100000px"></div></div><div style="position: absolute; transition: 0s; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; transition: 0s; left: 0; top: 0; width: 200%; height: 200%"></div></div></div>
    
    <script id="csinit" type="text/x-cindyscript">
      createimage("gol", 128, 128);
      colorplot("gol", if(random()>.6,1,0)); //random stuff as starting image
      
      get(x, y) :=  imagergb("gol", (x,y), interpolate->true, repeat->true).r; //Tourus world
      
      nbhds = [(-1,-1), (-1,0), (-1,+1), (0,-1),  (0,+1), (+1,-1), (+1,0), (+1,+1)];
      countneighbors(x, y) := sum( apply(nbhds, delta, get(delta.x + x, delta.y + y)));
      
      newstate(x, y) := (
        number = countneighbors(x, y); //number of living neighbors
        if(get(x, y) == 1,
        
          //if the cell lives then it will die if it has less than 2 neighbours or more than 3 neighbours
          if((number < 2) % (number > 3), 0, 1),
          
          //if cell was dead then 3 are required to be born
          if(number == 3, 1, 0)
        )
      );
    </script>
    
    <script id="csdraw" type="text/x-cindyscript">
      colorplot("gol", newstate(#.x, #.y)); //overwrite texture "gol"
      colorplot( get(#.x, #.y) );
    </script>

    <script type="text/javascript">
    CindyJS({
      scripts: "cs*",
      autoplay: true,
      ports: [{
        id: "CSCanvas",
        width: 512,
        height: 512,
        transform: [{
          visibleRect: [0, 128, 128, 0]
        }]
      }]
    });
    </script>
  

<canvas id="gol" width="128" height="128" style="display: none;"></canvas><canvas id="glcanvas" style="display: none;" height="512" width="512"></canvas><canvas id="tmpcanvas" style="display: none;" height="0" width="0"></canvas></body></html>
